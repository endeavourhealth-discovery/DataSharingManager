<mat-card>
  <mat-card-header>
    <div mat-card-avatar>
      <i class="fad fa-analytics"></i></div>
    <mat-card-title>Reporting</mat-card-title>
    <mat-card-subtitle>Run reports on agreements within the Data sharing manager</mat-card-subtitle>
    <div fxFlex></div>
  </mat-card-header>
  <mat-card-content>
    <div class="flex" fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="16px grid" fxLayoutAlign="start">
      <div fxFlex="32" style="height:50vh;overflow-y:auto;">
        <h3>Data processing agreements</h3>
        <app-generic-table #dpaTable
                           [items]="dpas"
                           [detailsToShow]="dpaDetailsToShow"
                           [allowSelect]="false"
                           (clicked)="runDPAPublisherReport($event)">
        </app-generic-table>
      </div>
      <div fxFlex="2"></div>
      <div fxFlex="32" style="height:50vh;overflow-y:auto;">
        <h3>Data sharing agreements</h3>
        <app-generic-table #dsaTable
                           [items]="dsas"
                           [detailsToShow]="dpaDetailsToShow"
                           [allowSelect]="false"
                           (clicked)="runDSAPublisherReport($event)">
        </app-generic-table>
      </div>
      <div fxFlex="2"></div>
      <div fxFlex="32" style="height:50vh;overflow-y:auto;">
        <h3>Projects</h3>
        <app-generic-table #projectTable
                           [items]="projects"
                           [detailsToShow]="dpaDetailsToShow"
                           [allowSelect]="false"
                           (clicked)="runProjectPublisherReport($event)">
        </app-generic-table>
      </div>
    </div>
    <br>
    <br>
    <div class="flex" fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="16px grid" fxLayoutAlign="start">
      <div [hidden]="!reportData" fxFlex="100">
        <div class="flex" fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="16px grid" fxLayoutAlign="start">
          <div fxFlex="50">
            <h3>{{reportName}}</h3>
          </div>
          <div fxFlex="50">
            <div style="font-size:350%;text-align:right">
              <i class="fas fa-file-csv" (click)="exportToCSV()"></i>
            </div>
          </div>
          <br>
          <div fxFlex="100">
            <app-generic-table #dsaPubTable
                               [items]="reportData"
                               [detailsToShow]="reportDetailsToShow"
                               [allowSelect]="false">
            </app-generic-table>
          </div>
        </div>
      </div>
    </div>

  </mat-card-content>
</mat-card>
